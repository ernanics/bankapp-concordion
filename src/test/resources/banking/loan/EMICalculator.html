<html xmlns:concordion="http://www.concordion.org/2007/concordion">

    <head>
        <link href="../../concordion.css" rel="stylesheet" type="text/css" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    </head>

	<body>

        <h1>Feature: EMI Calculator</h1>
        
        <h2>Business Rules</h2>
        <p>
       		<p>EMI is a fixed payment amount made by a borrower to a lender at a specific date each calendar month. </p> 
    		<p>The mathematical formula for calculating EMIs is the following:  
    		<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EMI=P*R*[((1+R)ˆN)/(((1+R)ˆN)-1)],<br/> where P stands for the loan amount or principal, R is the interest rate per month,  and N is the number of monthly installments.</p> 
        
        </p>
        
        <div concordion:example="before">
        	<h3>Before</h3>
        	<p concordion:execute="setCustomer(#customerName, #accountNumber, #accountBalance, #bankCardNumber, #bankCardPIN)">
        		<span concordion:set="#customerName">J. F. Piper</span> is a client of The American Bank
                He has a current account, which number <span concordion:set="#accountNumber">12565408</span> and balance is $<span concordion:set="#accountBalance">90.00</span>
                Piper goes to an ATM and identifies himself using a bank card number <span concordion:set="#bankCardNumber">8888 7777 6666 5555</span>
                The bank card PIN is <span concordion:set="#bankCardPIN">123456</span>      	
        	</p>
        
        </div>

        <div concordion:example="basic-flow">
        	<h3>Scenario</h3>
            <p>
            	J. F. Piper wants to simulate the value of the monthly installments of a financing (EMI). 
            	Piper informs in the app the amount, the interest rate, and the number of monthly installments. 
            	The application returns the EMI and the total amount financed with interest. 
        	</p>
        	
        	 <h3>Examples</h3>
        	 
            <table concordion:execute="#result = calculateEMI(#amout, #interestRate, #numberOfMonthlyInstallments)">
			    <tr>
			        <th concordion:set="#amout">Total amount financed</th>
			        <th concordion:set="#interestRate">Interest rate (%)</th>
			        <th concordion:set="#numberOfMonthlyInstallments">Number of monthly installments</th>
			        <th concordion:assert-equal="#result.EMIValue">EMI Value</th>
			        <th concordion:assert-equals="#result.amoutWithInterest">Total amount financed with interest</th>
			    </tr>
				<tr>
			        <td>10,000.00</td>
			        <td>0.5334</td>
			        <td>12</td>
			        <td>862.51</td>
			        <td>10,350.09</td>
			    </tr>
			    <tr>
			        <td>100,000,000.00</td>
			        <td>0.3227</td>
			        <td>36</td>
			        <td>2,946,725.65</td>
			        <td>106,082,159.40</td>
			    </tr>
			    <tr>
			        <td>500.00</td>
			        <td>0.1250</td>
			        <td>5</td>
			        <td>100.38</td>
			        <td>501.90</td>
			    </tr>
			    <tr>
			        <td>3,250,500.000</td>
			        <td>0.7665</td>
			        <td>72</td>
			        <td>58,911.94</td>
			        <td>14,241,659.68</td>
			    </tr>
			</table>
        </div>
        
     
    
    </body>
</html>